import numpy as np
import matplotlib.pyplot as plt
#ухудшение:
#[0.51707879 2.99433262]
t = [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 20, 30, 40, 50, 60, 70, 80, 90, 100]
PP = [5.1, 5.8, 6.3, 6.8, 7.3, 7.7, 8.2, 8.9, 9.2, 10, 11, 13, 18, 23, 28, 33, 39, 44, 50, 56]

#откачка:
#[-0.12208102  4.28250531]
#t = [8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21]
#PP = [31, 26, 22, 18, 16, 14, 12, 11, 9.4, 8.6, 7.9, 7.3, 6.8, 6.3]

#t = [3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 25, 30, 35, 40]
#PP = [61, 58, 55, 41, 31, 26, 22, 18, 16, 14, 12, 11, 9.4, 8.6, 7.9, 7.3, 6.8, 6.3, 6.0, 5.8, 5.5, 5.1, 4.8, 4.7]

#ухудшение:
#[0.5895689 1.33449022]
#t = [5, 8, 12, 17, 22, 26, 32, 37, 41, 46, 51, 56, 62, 67, 72, 77, 83, 88, 93, 99, 103]
#PP = [16, 18, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74]

#откачка1:
#[-0.09471273  2.73022945]
#t = [1, 5, 7, 9, 2, 4, 6, 8, 10]
#PP = [15, 9.2, 7.7, 6.8, 13, 10, 8, 7.2, 6.3]

t = [2, 4, 6, 8, 10, 12, 14, 15, 17, 21, 29, 48, 1, 5, 6, 7, 9, 13]
PP = [13, 10, 8, 7.2, 6.3, 5.9, 5.5, 5.4, 5.2, 5, 4.8, 4.6, 15, 9.2, 8.4, 7.7, 6.8, 5.7]

P = []
for i in range(len(PP)):
    P.append((PP[i]))

k = np.polyfit(t, P, 1)
print(k)
x_th = np.arange(0, 100, 1)
y_th = []
for i in range(0, len(x_th)):
    y_th.append(k[0] * x_th[i] + k[1])


plt.figure(figsize=(10, 5))
#plt.plot(x_th, y_th, label=r'Апроксимация МНК: $ln(\frac{P}{P_0}) = -at$')
plt.errorbar(t, P, xerr=1, yerr=0, fmt=".k", label="эксперементальные точки")

plt.xlabel(r'$t, c$', fontsize=25)
plt.ylabel(r'$P, 10^{-5}$ торр', fontsize=25)
plt.grid(True)
plt.legend(loc='best', fontsize=15)
plt.show()
